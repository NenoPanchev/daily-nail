<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/commons::head"></head>

<body>
<header th:replace="fragments/commons::navigation"></header>

<div class="main ">
  <link rel="stylesheet" type="text/css" href="/css/registration.css">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="form-card" style="margin-bottom: 50px;">
          <div class="card-cont">
            <div class="card-header">
              <span>Registration</span>
            </div>
            <form method="POST"
                  th:action="@{/users/register}"
            th:object="${userRegistrationBindingModel}">
              <div class="card-body">
              <div class="form-group label">
                <label for="email">E-mail</label>
                <input id="email" type="email" class="form-control " name="email"
                       th:value="*{email}"
                       th:errorclass="is-invalid"
                       placeholder="E-mail" required autocomplete="email" autofocus="">
                <small th:each="e : ${#fields.errors('email')}" th:text="${e}" id="emailError"
                       class="invalid-feedback text-light form-text bg-danger rounded">Must be valid email</small>
                <small th:if="${userExistsError}" id="usernameUniqueError"
                       class="text-light form-text bg-danger rounded">Account with that email already exists</small>
              </div>
                <div class="form-group label">
                  <label for="fullName">Name</label>
                  <input id="fullName" type="text" class="form-control " name="fullName"
                         th:value="*{fullName}"
                         th:errorclass="is-invalid"
                         placeholder="Anonymous" maxlength="30" autocomplete="fullName" >
                  <small th:each="e : ${#fields.errors('fullName')}" th:text="${e}" id="fullNameError"
                         class="invalid-feedback text-light form-text bg-danger rounded">
                    Password length must be between 5 and 20 characters and passwords should match.
                  </small>
                </div>
              <div class="form-group label">
                <label for="password">Password</label>
                <input id="password" type="password" class="form-control" name="password"
                       th:errorclass="is-invalid"
                       placeholder="Password ..." autocomplete="off"
                       required minlength="4" maxlength="20">
                <small th:each="e : ${#fields.errors('password')}" th:text="${e}" id="passwordError"
                       class="invalid-feedback text-light form-text bg-danger rounded">
                  Password length must be between 4 and 20 characters and passwords should match.
                </small>
              </div>
              <div class="form-group label">
                <label for="password">Confirm password</label>
                <input id="confirmPassword" required minlength="4" maxlength="20" type="password" class="form-control" name="confirmPassword"
                       th:errorclass="is-invalid"
                       autocomplete="off"  placeholder="Confirm password ...">
              </div>
              <div class="form-group remember_me">
                <div class="form-check">
                  <input type="checkbox" name="terms" required id="terms" th:checked="${acceptedTerms}">
                  <label class="form-check-label remember" for="terms">I agree with the <a href="/users/terms-and-conditions" class="link">Terms and conditions</a></label>
                </div>
              </div>
              <div class="form-group row">
                <div class="col-md-5" width="100%">
                  <button type="submit" class="btn primary-btn btn-login">
                    Register
                  </button>
                </div>
              </div>
            </div>
            </form>
          </div>
          <div class="card-footer">
            <span class="label">Already registered?</span>
            <a href="/login" class="link">Login</a>
            <i class="icon mdi mdi-chevron-right"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<footer th:replace="fragments/commons::footer"></footer>
</body>
</html>
